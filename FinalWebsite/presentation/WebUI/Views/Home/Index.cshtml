@using FinalWebsite.WebUI.View_Models;
@model HomeVM

<div class="slider movie-items">
	<div class="container">
		<div class="row">
			<div class="slick-multiItemSlider">
				@foreach(var item in Model.Movies)
				{
				<div class="movie-item">
					<div class="mv-img">
						<a href="#"><img src="~/manage/img/uploads/@item.Image" alt="" width="285" height="437"></a>
					</div>
					<div class="title-in">
						<div class="cate">
							<span class="blue"><a asp-controller="Home" asp-action="FindByGenre" asp-route-genreName="@item.Genre.Name">@item.Genre.Name</a></span>
						</div>
						<h6><a asp-controller="Movies" asp-action="Detail" asp-route-name="@item.Name">@item.Name</a></h6>
						<p><i class="ion-android-star"></i><span>@item.Rate</span> /10</p>
					</div>
				</div>
				}
			</div>
		</div>
	</div>
</div>

    @foreach(var genre in Model.Genres)
    {
	if (genre.Movies.Any())
	{
	<div class="movie-items">
	<div class="container">
		<div class="row ipad-width">
			<div class="col-md-8">
				<div class="title-hd">
					<h2>@genre.Name</h2>
					<a asp-action="FindByGenre" asp-route-genreName="@genre.Name" class="viewall">View all <i class="ion-ios-arrow-right"></i></a>
				</div>
				<div class="tabs">
					<div class="tab-content">
						<div id="tab1" class="tab active">
							<div class="row">
								<div class="slick-multiItem">
										@foreach(var item in genre.Movies)
										{
										<div class="slide-it">
										<div class="movie-item">
											<div class="mv-img">
												<img src="~/manage/img/uploads/@item.Image" alt="" width="185" height="284">
											</div>
											<div class="hvr-inner">
												<a asp-controller="Movies" asp-action="Detail" asp-route-name="@item.Name"> View Detail <i class="ion-android-arrow-dropright"></i> </a>
											</div>
											<div class="title-in">
											<h6><a asp-controller="Movies" asp-action="Detail" asp-route-name="@item.Name">@item.Name</a></h6>
												<p><i class="ion-android-star"></i><span>@item.Rate</span> /10</p>
											</div>
										</div>
									</div>
										}
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-md-4">
				<div class="sidebar">
					<div class="ads">
						<img src="~/assets/images/uploads/ads1.png" alt="" width="336" height="296">
					</div>
					@*<div class="celebrities">
						<h4 class="sb-title">Actors</h4>
						@foreach(var item in Model.Actors)
						{
						<div class="celeb-item">
							<a href="#"><img src="~/manage/img/uploads/@item.Image" alt="" width="70" height="70"></a>
							<div class="celeb-author">
									<h6><a href="#">@item.FullName</a></h6>
								<span>Actor</span>
							</div>
						</div>
						}*@
					</div>
				</div>
			</div>
		</div>
</div>
	}
    }

<div class="page-single">
	<div class="container">
		<div class="row">
			<div class="col-md-12 col-sm-12 col-xs-12">
				<div class="topbar-filter fw">
					<p>Found <span>@Model.Movies.Count() movies</span> in total</p>
					
				</div>
@*
				<div class="flex-wrap-movielist mv-grid-fw">
					@foreach (var movie in Model)
					{
						<div class="movie-item-style-2 movie-item-style-1">
							<img src="~/manage/img/uploads/@movie.Image" alt="">
							<div class="hvr-inner">
								<a asp-controller="Movies" asp-action="Detail" asp-route-id="@movie.Id"> View Detail <i class="ion-android-arrow-dropright"></i> </a>
							</div>
							<div class="mv-item-infor">
								<h6><a href="#">@movie.Name</a></h6>
								<p class="rate"><i class="ion-android-star"></i><span>@movie.Rate</span> /10</p>
							</div>
						</div>

					}
				</div>*@
				@*@if (Model.Items.Any())
				{
				<nav aria-label="..." class="mt-3 btn-dark">
				<ul class="pagination">
				@if (Model.CurrentPage != 1)
				{
				<li class="page-item">
				<a class="page-link" asp-action="Index" asp-controller="Genre" asp-route-page="@(Model.CurrentPage-1)" tabindex="-1">Previous</a>
				</li>
				}
				@for (int i = 1; i <= Model.PageCount; i++)
				{
				<li class="page-item @(Model.CurrentPage==i ? "active" : "")"><a class="page-link" asp-action="Index" asp-controller="Genre" asp-route-page="@i">@i</a></li>
				}
				@if (Model.CurrentPage != Model.PageCount)
				{
				<li class="page-item">
				<a class="page-link" asp-action="Index" asp-controller="Genre" asp-route-page="@(Model.CurrentPage+1)">Next</a>
				</li>
				}
				</ul>
				</nav>
				}*@
			</div>
		</div>
	</div>
</div>